{% extends "base.html" %}
{% block content %}
<br><br>
<style type="text/css" media="all">
  form{
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    
  }
  form input{
    padding: 5px 15px;
    margin: 5px 0;
    width: 300px;
    background: #FCFCFC6B;
    backdrop-filter: blur(4px);
    border-radius: 6px;
    border: 2px solid #fff;
    color: #fff;
  }
  
  form input::placeholder{
    color: #fff;
    font-weight: bold;
    letter-spacing: 2px;
    font-style: italic;
  }
  
  form button{
    padding: 8px 20px;
    margin: 5px;
    border-radius: 8px;
    color: #fff;
    background: #292929;
    font-weight: bold
  }
  
  form{
    background:  #0000003B;
    backdrop-filter: blur(10px);
    border-radius: 8px;
    border: 2px solid #fff;
    width: 350px;
    margin: auto;
    padding: 10px;
    box-shadow: 2px 2px 5px 3px #46464B40;
    
  }
</style>
<div>

  <form action="/register" method="post" accept-charset="utf-8">
    <h2 style="text-align: center;color: #fff">Register</h2><br>
    <input type="text" name="name" id="name" value="" placeholder="Name"/>
    <input type="text" name="username" id="uname" value="" placeholder="User Name"/>
    <input type="email" name="email" id="email" placeholder="Email">
    <input type="tel" maxlength="10" name="num" id="contact" placeholder="Contact No.">
    <input type="password" name="passwd" id="passwd" placeholder="Password">
    <small style="padding: 0.5rem 1rem;color: #fff;font-weight: bold;">
      Password must contain 7 to 15 characters which contain at least one numeric digit and a special character
    </small>
    <!-- <br> -->
    <button disabled="true" id="btn">Sign Up</button>
  </form>
    <h3>{{ msg }} </h3>
</div>
<script type="text/javascript" charset="utf-8">
let name = document.querySelector("#name");
let username = document.querySelector("#uname");
let email = document.querySelector("#email");
let number = document.querySelector("#contact");
let passwd = document.querySelector("#passwd");
let button = document.querySelector("#btn")

passwd.addEventListener("input",check)
username.addEventListener("input",check)
name.addEventListener("input",check)
email.addEventListener("input",check)
number.addEventListener("input",check)

function CheckPassword(inputtxt){ 
let passw=  /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;
if(inputtxt.value.match(passw)){  
    return true;
}else{  
    return false;
}}


function check(){
    pass = CheckPassword(passwd)
    if(pass == true){
      passwd.style.borderColor = "lightgreen"
      passwd.style.color = "lightgreen"
    }else{
      passwd.style.borderColor = "orangered"
      passwd.style.color = "orangered"
    }
    if(name.value.length >=3 && username.value.length > 2 && email.value.length >= 10 && number.value.length >= 10 && passwd.value.length >= 5 ){
        pass = CheckPassword(passwd)
        if(pass == true){
          passwd.style.borderColor = "green"
          // passwd.style.placeHolder = "red"
            button.disabled = false;
        }
  }
  else{
      button.disabled = true;
      
  }
}
  
  
</script>

{% endblock %}